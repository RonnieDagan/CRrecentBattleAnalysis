<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recent Battles</title>
</head>
<body>
    <h1>Analysis Result</h1>
    <p>{{ analysis_result }}</p>
    <h2>Recent Battles</h2>
    {% for battle in battles %}
        <div>
            <h3>{{ battle.player }} vs {{ battle.opponent }}</h3>
            <p>Winner: {{ battle.winner }}</p>
            <p>{{ battle.player }} Crowns: {{ battle.player_crowns }}</p>
            <p>{{ battle.opponent }} Crowns: {{ battle.opponent_crowns }}</p>
            <div>
                <h4>{{ battle.player }}'s Deck:</h4>
                <div style="display: flex; flex-wrap: wrap;">
                    {% for card_url in battle.player_deck %}
                        <img src="{{ card_url }}" alt="Card Image" style="width: 50px; height: 50px; margin: 5px;">
                    {% endfor %}
                </div>
            </div>
            <div>
                <h4>{{ battle.opponent }}'s Deck:</h4>
                <div style="display: flex; flex-wrap: wrap;">
                    {% for card_url in battle.opponent_deck %}
                        <img src="{{ card_url }}" alt="Card Image" style="width: 50px; height: 50px; margin: 5px;">
                    {% endfor %}
                </div>
            </div>
        </div>
        <hr>
    {% endfor %}
</body>
</html>
